{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{285:function(a,t,s){\"use strict\";s.r(t);var r=s(38),n=Object(r.a)({},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":a.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"reactnative-知识点记录\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#reactnative-知识点记录\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" ReactNative 知识点记录\")]),a._v(\" \"),s(\"h2\",{attrs:{id:\"一、-数据-状态方案记录\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#一、-数据-状态方案记录\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 一、 数据+状态方案记录\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"页面发起 actions\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"store 中掉接口\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"接口通过 api 封装，非交互数据请求到后做 model 处理（仅部分数据做了）\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"model 后的数据通过 reducer 存入 state\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"通过 connect 将 state 按需注入页面\")])])]),a._v(\" \"),s(\"blockquote\",[s(\"p\",[a._v(\"形成闭环，首屏数据统一存入 state，api 和 action 结合，页面注入和触发，形成前端小范围 mvc 结构\")])]),a._v(\" \"),s(\"h2\",{attrs:{id:\"二、罗列知识点\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#二、罗列知识点\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 二、罗列知识点\")]),a._v(\" \"),s(\"h3\",{attrs:{id:\"基本知识\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#基本知识\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 基本知识\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"react 的 jsx 写法\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"es6,7 用法\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"react-native 提供的 api\")])])]),a._v(\" \"),s(\"h3\",{attrs:{id:\"四大支柱\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#四大支柱\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 四大支柱\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"axios 封装和配置\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"redux 生态链\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"react-navigation 各项配置\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"公共方法的归类和注入\")])])]),a._v(\" \"),s(\"h3\",{attrs:{id:\"板块设计\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#板块设计\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 板块设计\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"板块规则\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"组件树设计\")])])]),a._v(\" \"),s(\"h3\",{attrs:{id:\"插件和原生\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#插件和原生\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 插件和原生\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"熟悉 react-native 社区\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"看懂插件文档\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"原生的基本知识\")])])]),a._v(\" \"),s(\"h2\",{attrs:{id:\"三、-热更新和热部署\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#三、-热更新和热部署\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 三、 热更新和热部署\")]),a._v(\" \"),s(\"blockquote\",[s(\"p\",[a._v(\"RN 最吸引人的特性就是可以在 ios 和安卓上实现热部署，避过 app store 的审查\")])]),a._v(\" \"),s(\"h3\",{attrs:{id:\"原理\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#原理\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 原理\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"本地代码集成 codepush 的 sdk\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"将更新后的内容发布到 codepush\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"本地代码每次打开时会比对 codepush 服务器上的版本和本地版本是否一致，不一致会触发更新\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"实现实时更新\")])])]),a._v(\" \"),s(\"h3\",{attrs:{id:\"具体配置地址\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#具体配置地址\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 具体配置地址\")]),a._v(\" \"),s(\"p\",[a._v(\"https://www.jianshu.com/p/6a5e00d22723\")]),a._v(\" \"),s(\"h3\",{attrs:{id:\"一些命令\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#一些命令\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 一些命令\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"查看当前登录用户\\n\"),s(\"code\",[a._v(\"code-push whoami\")])])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"创建应用\\n// code-push app add 应用名 版本 平台\\n\"),s(\"code\",[a._v(\"code-push app add test-android android react-native\")])])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"查看当前已创建 app 应用列表\\n\"),s(\"code\",[a._v(\"code-push app list\")])])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"重命名 app：\"),s(\"code\",[a._v(\"code-push app rename <appName> <newAppName>\")])])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"移除 app：\"),s(\"code\",[a._v(\"code-push app rm <appName>\")])])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"查看 app 的部署：\"),s(\"code\",[a._v(\"code-push deployment ls <appName> [--displayKeys|-k]\")])])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"查看 app 的某个部署的发布更新的历史记录：\"),s(\"code\",[a._v(\"code-push deployment history <appName> <deploymentName> [--displayAuthor|-a]\")])])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"发布更新：\"),s(\"code\",[a._v('code-push release-react 《应用名》 ios -t \"1.0.0\" --des \"测试热更新\" -d Staging')])])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"debug：\"),s(\"code\",[a._v(\"code-push debug <platform>\")])])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"查看已应用对应的 key 值 \"),s(\"code\",[a._v(\"code-push deployment ls 《应用名》 -k\")])])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"清空 app 的更新 \"),s(\"code\",[a._v(\"code-push deployment clear <appName> Production or Staging\")])])])]),a._v(\" \"),s(\"h2\",{attrs:{id:\"四、-react-navigation\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#四、-react-navigation\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 四、 react-navigation\")]),a._v(\" \"),s(\"blockquote\",[s(\"p\",[a._v(\"RN 最常用的路由组件\")])]),a._v(\" \"),s(\"h3\",{attrs:{id:\"简介\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#简介\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 简介\")]),a._v(\" \"),s(\"p\",[a._v(\"react-navigation 分为三个部分。\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"StackNavigator 类似顶部导航条，用来跳转页面和传递参数。\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"TabNavigator 类似底部标签栏，用来区分模块。\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"DrawerNavigator 抽屉，类似从 App 左侧滑出一个页面。\")])])]),a._v(\" \"),s(\"div\",{staticClass:\"language-javascript extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"const\")]),a._v(\" TabNav \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"createBottomTabNavigator\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"tabNavRouteConfig\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\" tabOptionConfig\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"const\")]),a._v(\" AppNavigator \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"createStackNavigator\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"stackRouteConfig\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\" stakeOptionConfig\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"const\")]),a._v(\" AppContainer \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"createAppContainer\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"AppNavigator\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"<\")]),a._v(\"AppContainer onNavigationStateChange\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"this\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"onNavigationStateChange\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\">\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[a._v(\"routeConfig 为路由路径配置参数\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"optionConfig 为导航定制相关参数\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"AppContainer 将导航封装为组件\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"appContainer 中的页面就可以使用\"),s(\"code\",[a._v(\"this.props.navigation.navigate(routeName,params)\")]),a._v(\"跳转\")])])]),a._v(\" \"),s(\"h2\",{attrs:{id:\"五、-三方处理\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#五、-三方处理\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 五、 三方处理\")]),a._v(\" \"),s(\"h3\",{attrs:{id:\"需要-link\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#需要-link\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 需要 link\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[a._v(\"react-native-device-info\")])]),a._v(\" \"),s(\"p\",[a._v(\"注意 该库使用的是 androidx，和当前大部分 android support 不兼容\")]),a._v(\" \"),s(\"ol\",{attrs:{start:\"2\"}},[s(\"li\",[s(\"p\",[a._v(\"react-native-gesture-handler\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"react-native-i18n\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"react-native-image-crop-picker\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"react-native-picker\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"react-native-signature-capture\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"react-native-splash-screen\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"react-native-webview\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"rn-fetch-blob\")])])]),a._v(\" \"),s(\"h2\",{attrs:{id:\"六、-当-androidx-和-support-冲突时\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#六、-当-androidx-和-support-冲突时\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 六、 当 androidx 和 support 冲突时\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"通过./gradlew :app : dependencies 查看哪个依赖使用了 androidx\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"回退该依赖为支持 support 的版本\")])])]),a._v(\" \"),s(\"h2\",{attrs:{id:\"七、-集成自定义-iconfont\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#七、-集成自定义-iconfont\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 七、 集成自定义 iconfont\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"安装 react-native-vector-icons 插件\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"书写 icon 组件，调用上述插件的 create 方法\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"在阿里 iconfont 选择对应的 icon 并下载\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"使用工具将 ttf 文件生成对应的 json 文件\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"ios：将 ttf 文件引入 build phase 的 link 中\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"ios: 在 info 中添加 iconfont.ttf 信息\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"android: 在 app/build 中添加以下代码\")])])]),a._v(\" \"),s(\"div\",{staticClass:\"language-javascript extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[a._v(\"project\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"ext\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"vectoricons \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"\\n    iconFontNames\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v(\"'iconfont.ttf'\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//添加你需要赋值的字符文件\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\"\\napply \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"from\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"../../node_modules/react-native-vector-icons/fonts.gradle\"')]),a._v(\"\\n\\n\")])])]),s(\"ol\",{attrs:{start:\"8\"}},[s(\"li\",[a._v(\"android: 将生成的 ttf 文件复制到 app/src/main/assets/fonts 文件中\")])]),a._v(\" \"),s(\"h2\",{attrs:{id:\"八、-国际化\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#八、-国际化\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 八、 国际化\")]),a._v(\" \"),s(\"h3\",{attrs:{id:\"问题\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 问题\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"react-native-i18n 设置语言后无法实时更新\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"页面必须手动触发 render 才会有效果\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"react-navigation 中的 tabbar 和 title 也无法更新\")])])]),a._v(\" \"),s(\"h3\",{attrs:{id:\"解决思路\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#解决思路\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 解决思路\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[a._v(\"所有页面都是由 react-navigation 包裹的，触发 react-navigation 的更新即可刷新所有页面\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-javascript extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"let\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\" refresh \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"this\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"state\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"return\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"<\")]),a._v(\"Root\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\">\")]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"<\")]),a._v(\"AppNavigator\\n      onNavigationStateChange\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"this\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"onNavigationStateChange\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n      screenProps\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\" refresh \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\">\")]),a._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"<\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"/\")]),a._v(\"Root\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\">\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\")])])]),s(\"p\",[a._v(\"通过 eventBus 触发 refresh 的更新\")]),a._v(\" \"),s(\"ol\",{attrs:{start:\"2\"}},[s(\"li\",[a._v(\"底部 tabbar 在页面渲染之前就生成了，故上述一对 tabbar 无效\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-javascript extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"<\")]),a._v(\"AppNavigator\\n  onNavigationStateChange\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"this\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"onNavigationStateChange\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n  screenProps\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\" refresh\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\" tabLabel \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\">\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[a._v(\"navigationOptions\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\" screenProps \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=>\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n  tabBarLabel\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\" screenProps\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"tabLabel\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"home\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[a._v(\"tabBarIcon\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\" tintColor\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\" focused \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=>\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"<\")]),a._v(\"Icon name\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"focused \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"?\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"home2\"')]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"home1\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\" size\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"25\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\" color\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"tintColor\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\">\")]),a._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\"\\n  header\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"null\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\")])])]),s(\"p\",[a._v(\"通过 ScreenProps 将值传入 createBottomTabNavigator，然后在跟页面里设置 ScreenProps，并在 eventBus 回调中动态改变\")]),a._v(\" \"),s(\"h2\",{attrs:{id:\"九、-启动图和图标\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#九、-启动图和图标\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 九、 启动图和图标\")]),a._v(\" \"),s(\"h3\",{attrs:{id:\"图标\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#图标\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 图标\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"ios:通过图标工厂制作不同尺寸图标\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"ios:选择 images.xcassets,并按 appicon 的设置将不同尺寸的图片上传\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"ios:在 general 中选择 appicon\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"android:通过图标工厂制作不同尺寸的图片\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"android:将图标放入 app/src/main/res 文件夹下\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"android:在 androidManifest 中改图标名称\")])])]),a._v(\" \"),s(\"h3\",{attrs:{id:\"启动图\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#启动图\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 启动图\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"通过图标工厂制作安卓和 ios 不同尺寸的图标\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"ios: 在 images.xcassets 中添加 launchImages,并按尺寸上传\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"ios:删除 launchScreen.xib 文件\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"ios:general 中选择 launchImages,launchScreenfile 为空\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"删除 app，重新加载\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"android:将生成的图标放入 app/src/main/res 文件加下\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"android: 在上述文件夹下新建 layout/launch_screen.xml，内容如下\")])])]),a._v(\" \"),s(\"div\",{staticClass:\"language-javascript extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"<\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"?\")]),a._v(\"xml version\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"1.0\"')]),a._v(\" encoding\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"utf-8\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"?\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\">\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"<\")]),a._v(\"RelativeLayout xmlns\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\"android\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"http://schemas.android.com/apk/res/android\"')]),a._v(\"\\n    android\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\"orientation\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"vertical\"')]),a._v(\" android\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\"layout_width\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"match_parent\"')]),a._v(\"\\n    android\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\"layout_height\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"match_parent\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\">\")]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"<\")]),a._v(\"ImageView android\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\"layout_width\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"match_parent\"')]),a._v(\" android\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\"layout_height\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"match_parent\"')]),a._v(\" android\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\"src\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"@drawable/screen\"')]),a._v(\" android\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\":\")]),a._v(\"scaleType\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"centerCrop\"')]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\">\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"<\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"/\")]),a._v(\"RelativeLayout\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\">\")]),a._v(\"\\n\")])])]),s(\"ol\",{attrs:{start:\"8\"}},[s(\"li\",[a._v(\"android: 新建 drawable/icon.png 文件，不然无法打包通过\")])])])},[],!1,null,null,null);t.default=n.exports}}]);","extractedComments":[]}