<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue 项目知识点 | 哒哒的博客</title>
    <meta name="description" content="哒哒练习写文章做记录的地方">
    <link rel="icon" href="/blog/img/logo.png">
    
    <link rel="preload" href="/blog/assets/css/0.styles.99707b60.css" as="style"><link rel="preload" href="/blog/assets/js/app.04a40249.js" as="script"><link rel="preload" href="/blog/assets/js/2.614c271f.js" as="script"><link rel="preload" href="/blog/assets/js/27.94f729a2.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.4b36cd09.js"><link rel="prefetch" href="/blog/assets/js/11.2d5a8e9e.js"><link rel="prefetch" href="/blog/assets/js/12.5f3cf8ed.js"><link rel="prefetch" href="/blog/assets/js/13.44a80d36.js"><link rel="prefetch" href="/blog/assets/js/14.25295f21.js"><link rel="prefetch" href="/blog/assets/js/15.c62c6c25.js"><link rel="prefetch" href="/blog/assets/js/16.8a80f0bf.js"><link rel="prefetch" href="/blog/assets/js/17.f5d28493.js"><link rel="prefetch" href="/blog/assets/js/18.1dfd5511.js"><link rel="prefetch" href="/blog/assets/js/19.966ec7fb.js"><link rel="prefetch" href="/blog/assets/js/20.f8046668.js"><link rel="prefetch" href="/blog/assets/js/21.b6ee572b.js"><link rel="prefetch" href="/blog/assets/js/22.8be287c5.js"><link rel="prefetch" href="/blog/assets/js/23.0447c120.js"><link rel="prefetch" href="/blog/assets/js/24.ba0460c9.js"><link rel="prefetch" href="/blog/assets/js/25.dd78291e.js"><link rel="prefetch" href="/blog/assets/js/26.3a365eb0.js"><link rel="prefetch" href="/blog/assets/js/28.b2cbe28d.js"><link rel="prefetch" href="/blog/assets/js/29.4ec1cf2a.js"><link rel="prefetch" href="/blog/assets/js/3.cabfff8b.js"><link rel="prefetch" href="/blog/assets/js/30.efc3e4ac.js"><link rel="prefetch" href="/blog/assets/js/31.8224951a.js"><link rel="prefetch" href="/blog/assets/js/32.6e850d41.js"><link rel="prefetch" href="/blog/assets/js/33.84383827.js"><link rel="prefetch" href="/blog/assets/js/34.b494f796.js"><link rel="prefetch" href="/blog/assets/js/35.ee0a06bd.js"><link rel="prefetch" href="/blog/assets/js/36.a9c9dd98.js"><link rel="prefetch" href="/blog/assets/js/37.5cd39c31.js"><link rel="prefetch" href="/blog/assets/js/38.7f6c4fc2.js"><link rel="prefetch" href="/blog/assets/js/4.b0d7986b.js"><link rel="prefetch" href="/blog/assets/js/5.6030204f.js"><link rel="prefetch" href="/blog/assets/js/6.be32cf31.js"><link rel="prefetch" href="/blog/assets/js/7.c65ec4e3.js"><link rel="prefetch" href="/blog/assets/js/8.7f5e33b9.js"><link rel="prefetch" href="/blog/assets/js/9.e1c65847.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.99707b60.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">哒哒的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">JS基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/JS/object.html" class="nav-link">JS之面向对象程序设计和继承</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/write.html" class="nav-link">手写代码系列</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/base.html" class="nav-link">JS基础知识总结</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/copy.html" class="nav-link">JS深浅拷贝</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/design.html" class="nav-link">JS设计模式</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/this.html" class="nav-link">JS之this指向</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/ifelse.html" class="nav-link">JS条件语句</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/simple.html" class="nav-link">JS之代码简洁之道</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架+App</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/app/vue.html" class="nav-link">vue基础知识</a></li><li class="dropdown-item"><!----> <a href="/blog/app/vuex.html" class="nav-link">vuex基础</a></li><li class="dropdown-item"><!----> <a href="/blog/app/cordova.html" class="nav-link">cordova基础</a></li><li class="dropdown-item"><!----> <a href="/blog/app/vueCordova.html" class="nav-link">vue+cordova思考</a></li><li class="dropdown-item"><!----> <a href="/blog/app/RNSummary.html" class="nav-link">ReactNative技术栈总结</a></li><li class="dropdown-item"><!----> <a href="/blog/app/RNRecord.html" class="nav-link">ReactNative知识点记录</a></li><li class="dropdown-item"><!----> <a href="/blog/app/flutter_1.html" class="nav-link">flutter学习笔记</a></li><li class="dropdown-item"><!----> <a href="/blog/app/uniapp.html" class="nav-link">小程序多端框架研究</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/Node/koa2.html" class="nav-link">koa2+sequelize初探</a></li><li class="dropdown-item"><!----> <a href="/blog/Node/fullStack.html" class="nav-link">全栈工程思考</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">浏览器</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/web/http.html" class="nav-link">http协议总结</a></li><li class="dropdown-item"><!----> <a href="/blog/web/web_1.html" class="nav-link">浏览器的执行顺序和结构1</a></li><li class="dropdown-item"><!----> <a href="/blog/web/web_2.html" class="nav-link">浏览器的执行顺序和结构2</a></li><li class="dropdown-item"><!----> <a href="/blog/web/font-end.html" class="nav-link">前端转行心得</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">构建</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/goujian/webpack.html" class="nav-link">webpack学习</a></li><li class="dropdown-item"><!----> <a href="/blog/goujian/cli.html" class="nav-link">从零搭建一个脚手架</a></li><li class="dropdown-item"><!----> <a href="/blog/goujian/docker.html" class="nav-link">docker学习笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/base/computer.html" class="nav-link">计算机基础</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">JS基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/JS/object.html" class="nav-link">JS之面向对象程序设计和继承</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/write.html" class="nav-link">手写代码系列</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/base.html" class="nav-link">JS基础知识总结</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/copy.html" class="nav-link">JS深浅拷贝</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/design.html" class="nav-link">JS设计模式</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/this.html" class="nav-link">JS之this指向</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/ifelse.html" class="nav-link">JS条件语句</a></li><li class="dropdown-item"><!----> <a href="/blog/JS/simple.html" class="nav-link">JS之代码简洁之道</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架+App</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/app/vue.html" class="nav-link">vue基础知识</a></li><li class="dropdown-item"><!----> <a href="/blog/app/vuex.html" class="nav-link">vuex基础</a></li><li class="dropdown-item"><!----> <a href="/blog/app/cordova.html" class="nav-link">cordova基础</a></li><li class="dropdown-item"><!----> <a href="/blog/app/vueCordova.html" class="nav-link">vue+cordova思考</a></li><li class="dropdown-item"><!----> <a href="/blog/app/RNSummary.html" class="nav-link">ReactNative技术栈总结</a></li><li class="dropdown-item"><!----> <a href="/blog/app/RNRecord.html" class="nav-link">ReactNative知识点记录</a></li><li class="dropdown-item"><!----> <a href="/blog/app/flutter_1.html" class="nav-link">flutter学习笔记</a></li><li class="dropdown-item"><!----> <a href="/blog/app/uniapp.html" class="nav-link">小程序多端框架研究</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/Node/koa2.html" class="nav-link">koa2+sequelize初探</a></li><li class="dropdown-item"><!----> <a href="/blog/Node/fullStack.html" class="nav-link">全栈工程思考</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">浏览器</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/web/http.html" class="nav-link">http协议总结</a></li><li class="dropdown-item"><!----> <a href="/blog/web/web_1.html" class="nav-link">浏览器的执行顺序和结构1</a></li><li class="dropdown-item"><!----> <a href="/blog/web/web_2.html" class="nav-link">浏览器的执行顺序和结构2</a></li><li class="dropdown-item"><!----> <a href="/blog/web/font-end.html" class="nav-link">前端转行心得</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">构建</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/goujian/webpack.html" class="nav-link">webpack学习</a></li><li class="dropdown-item"><!----> <a href="/blog/goujian/cli.html" class="nav-link">从零搭建一个脚手架</a></li><li class="dropdown-item"><!----> <a href="/blog/goujian/docker.html" class="nav-link">docker学习笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/base/computer.html" class="nav-link">计算机基础</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vue 项目知识点</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/app/vue1.html#基本写法" class="sidebar-link">基本写法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/app/vue1.html#组件生命周期以及其他属性" class="sidebar-link">组件生命周期以及其他属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/app/vue1.html#属性" class="sidebar-link">属性</a></li><li class="sidebar-sub-header"><a href="/blog/app/vue1.html#生命周期" class="sidebar-link">生命周期</a></li></ul></li><li><a href="/blog/app/vue1.html#组件通信" class="sidebar-link">组件通信</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/app/vue1.html#父子通信" class="sidebar-link">父子通信</a></li><li class="sidebar-sub-header"><a href="/blog/app/vue1.html#兄弟组件通信" class="sidebar-link">兄弟组件通信</a></li><li class="sidebar-sub-header"><a href="/blog/app/vue1.html#跨多层次组件通信" class="sidebar-link">跨多层次组件通信</a></li><li class="sidebar-sub-header"><a href="/blog/app/vue1.html#任意组件" class="sidebar-link">任意组件</a></li></ul></li><li><a href="/blog/app/vue1.html#路由设计" class="sidebar-link">路由设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/app/vue1.html#简单路由的实现" class="sidebar-link">简单路由的实现</a></li><li class="sidebar-sub-header"><a href="/blog/app/vue1.html#路由嵌套和参数传递" class="sidebar-link">路由嵌套和参数传递</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-项目知识点"><a href="#vue-项目知识点" aria-hidden="true" class="header-anchor">#</a> vue 项目知识点</h1> <ul><li>基本写法</li> <li>生命周期函数</li> <li>组件通信</li> <li>路由设计</li> <li>状态机 vuex 设计</li> <li>axios 封装</li> <li>公共方法如过滤器，指令，混入等</li></ul> <h2 id="基本写法"><a href="#基本写法" aria-hidden="true" class="header-anchor">#</a> 基本写法</h2> <blockquote><p>第一次接触 vue 时，安装好 node 环境，vuecli 脚手架，初始化一个项目，网上关于环境安装的教程很多，这里不做赘述，我们来看下 vue 的基本写法</p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-carousel</span> <span class="token attr-name">autoplay</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>(item, index) in myList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{ index }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>{{ item }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a-carousel</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TopHeader</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TopHeader</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// @ is an alias to /src</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> TopHeader <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/components/index'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
  components<span class="token punctuation">:</span> <span class="token punctuation">{</span> TopHeader <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      myList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      conList<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          title<span class="token punctuation">:</span> <span class="token string">'vue'</span><span class="token punctuation">,</span>
          list<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.home</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 1200px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token selector">;
  .ant-carousel</span> <span class="token punctuation">{</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 30px<span class="token selector">;
    .slick-slide</span> <span class="token punctuation">{</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 320px<span class="token punctuation">;</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 160px<span class="token punctuation">;</span>
      <span class="token property">background</span><span class="token punctuation">:</span> #364d79<span class="token punctuation">;</span>
      <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>一个 vue 组件完美的将 html,css,js 囊括其中</p> <p>其中<code>&lt;template&gt;</code>包裹区域书写 html
<code>&lt;script&gt;</code> 包裹区域书写 js
<code>&lt;style&gt;</code>包裹区域书写 css</p> <p>一个.vue 组件就是一段 html,css,js 的集合，包裹一段逻辑</p> <p>项目的组合再也不是 html,css,js 零散的搭建</p> <p>而是多段逻辑分门别类的堆砌</p> <p>配合 v-if,v-for 等指令，{{}}双大括号的数据绑定</p> <p>代码组织更加高效和直接</p> <h2 id="组件生命周期以及其他属性"><a href="#组件生命周期以及其他属性" aria-hidden="true" class="header-anchor">#</a> 组件生命周期以及其他属性</h2> <blockquote><p>熟悉一个 vue 组件各个属性的意义和用法，了解生命周期</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> TopHeader <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/components/index'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
  components<span class="token punctuation">:</span> <span class="token punctuation">{</span> TopHeader <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      title<span class="token punctuation">:</span> <span class="token string">'vue'</span><span class="token punctuation">,</span>
      myList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      conList<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          title<span class="token punctuation">:</span> <span class="token string">'vue'</span><span class="token punctuation">,</span>
          list<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="属性"><a href="#属性" aria-hidden="true" class="header-anchor">#</a> 属性</h3> <ol><li>name：组件名，keep-alive 的 include 和 exclude 会用到</li> <li>components：引入的组件需要在此处注册</li> <li>props：父组件传入的值需要在此处注册</li> <li>data：组件内部状态数据</li> <li>computed：计算属性，随某一个值变化而变化，返回一个值</li> <li>watch：监听某一个数据变化，处理一段逻辑</li> <li>methods：组件方法</li></ol> <h3 id="生命周期"><a href="#生命周期" aria-hidden="true" class="header-anchor">#</a> 生命周期</h3> <h4 id="实例化期"><a href="#实例化期" aria-hidden="true" class="header-anchor">#</a> 实例化期</h4> <blockquote><p>其中 beforeCreate 和 created 中间会触发 render 函数，其中 beforeMount 和 mounted 中间会触发 render 函数，</p></blockquote> <ol><li>beforeCreate：组件实例化之后，在实例初始化之后，数据观测 (data observer) 和 event/watcher 事件配置之前被调用，此时还无法使用 this.状态和方法</li> <li>create：在这一步，实例已完成以下的配置：数据观测 (data observer)，属性和方法的运算，watch/event 事件回调。然而，挂载阶段还没开始，<code>$el</code> 属性目前不可见，此时可以调用 this.状态和方法。</li> <li>beforeMount：在挂载开始之前被调用：相关的 render 函数首次被调用。$el 属性已经可见，但还是原来的 DOM，并非是新创建的。此时页面的<code></code>输出还是<code></code></li> <li>mounted：<code>el</code>被新创建的 <code>vm.$el</code>替换，并挂载到实例上去之后调用该钩子。如果 root 实例挂载了一个文档内元素，当 <code>mounted</code>被调用时 <code>vm.$el</code> 也在文档内。此时的<code></code>已经变为 vue 了</li></ol> <h4 id="存在期"><a href="#存在期" aria-hidden="true" class="header-anchor">#</a> 存在期</h4> <blockquote><p>Vue 需要改变数据才会触发组件重新渲染，才会触发上面的存在期钩子函数。其中 beforeUpdate 和 updated 中间会触发 render 函数。</p></blockquote> <ol><li>beforeUpdate：数据更新时，虚拟 dom 变化之前调用，这里适合在更新之前访问现有的 dom，比如手动移除已添加的事件监听器。不要在此函数中更改状态，会触发死循环</li> <li>updated：当这个钩子被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改状态。如果要相应状态改变，通常最好使用计算属性或 watcher 取而代之。</li></ol> <h4 id="销毁期"><a href="#销毁期" aria-hidden="true" class="header-anchor">#</a> 销毁期</h4> <ol><li>beforeDestroy： 实例销毁之前调用，在这一步，实例仍然完全可用。一般在这里移除事件监听器、定时器等，避免内存泄漏</li> <li>destroyed： Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。所以如果需要用到 Vue 实例指示的所用绑定的东西，需要在 beforeDestroy 中使用。这么说，destroyed 函数能做的事，在 beforeDestroy 也能做，所以没必要在 destroyed 函数中处理。</li></ol> <h2 id="组件通信"><a href="#组件通信" aria-hidden="true" class="header-anchor">#</a> 组件通信</h2> <p>组件通信一般分为以下几种情况：</p> <ul><li>父子组件通信</li> <li>兄弟组件通信</li> <li>跨多层级组件通信</li> <li>任意组件</li></ul> <p>对于以上每种情况都有多种方式去实现，接下来就来学习下如何实现。</p> <h3 id="父子通信"><a href="#父子通信" aria-hidden="true" class="header-anchor">#</a> 父子通信</h3> <p>父组件通过 <code>props</code> 传递数据给子组件，子组件通过 <code>emit</code> 发送事件传递数据给父组件，这两种方式是最常用的父子通信实现办法。</p> <p>这种父子通信方式也就是典型的单向数据流，父组件通过 <code>props</code> 传递数据，子组件不能直接修改 <code>props</code>， 而是必须通过发送事件的方式告知父组件修改数据。</p> <p>另外这两种方式还可以使用语法糖 <code>v-model</code> 来直接实现，因为 <code>v-model</code> 默认会解析成名为 <code>value</code> 的 <code>prop</code> 和名为 <code>input</code> 的事件。这种语法糖的方式是典型的双向绑定，常用于 UI 控件上，但是究其根本，还是通过事件的方法让父组件修改数据。</p> <p>当然我们还可以通过访问 <code>$parent</code> 或者 <code>$children</code> 对象来访问组件实例中的方法和数据。</p> <p>另外如果你使用 Vue 2.3 及以上版本的话还可以使用 <code>$listeners</code>和 <code>.sync</code> 这两个属性。</p> <p><code>$listeners</code> 属性会将父组件中的 (不含 <code>.native</code> 修饰器的) <code>v-on</code> 事件监听器传递给子组件，子组件可以通过访问 <code>$listeners</code>来自定义监听器。</p> <p><code>.sync</code> 属性是个语法糖，可以很简单的实现子组件与父组件通信</p> <div class="language-html extra-class"><pre class="language-html"><code>
<span class="token comment">&lt;!--父组件中--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">:value.sync</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--以上写法等同于--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>v =&gt; value = v<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comp</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--子组件中--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'update:value'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h3 id="兄弟组件通信"><a href="#兄弟组件通信" aria-hidden="true" class="header-anchor">#</a> 兄弟组件通信</h3> <p>对于这种情况可以通过查找父组件中的子组件实现，也就是 <code>this.$parent.$children</code>，在 <code>$children</code> 中可以通过组件 <code>name</code> 查询到需要的组件实例，然后进行通信。</p> <h3 id="跨多层次组件通信"><a href="#跨多层次组件通信" aria-hidden="true" class="header-anchor">#</a> 跨多层次组件通信</h3> <p>对于这种情况可以使用 Vue 2.2 新增的 API <code>provide / inject</code>，虽然文档中不推荐直接使用在业务中，但是如果用得好的话还是很有用的。</p> <p>假设有父组件 A，然后有一个跨多层级的子组件 B</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 父组件 A</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  provide<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    data<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// 子组件 B</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  inject<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 无论跨几层都能获得父组件的 data 属性</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token comment">// =&gt; 1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="任意组件"><a href="#任意组件" aria-hidden="true" class="header-anchor">#</a> 任意组件</h3> <p>这种方式可以通过 Vuex 或者 Event Bus 解决，另外如果你不怕麻烦的话，可以使用这种方式解决上述所有的通信情况</p> <h2 id="路由设计"><a href="#路由设计" aria-hidden="true" class="header-anchor">#</a> 路由设计</h2> <h3 id="简单路由的实现"><a href="#简单路由的实现" aria-hidden="true" class="header-anchor">#</a> 简单路由的实现</h3> <ol><li>安装 vue-router</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>yarn add vue<span class="token operator">-</span>router
</code></pre></div><ol start="2"><li>引入 vue-router</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>
<span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>

      <span class="token function-variable function">component</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/Project.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  router<span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><ol start="4"><li>在<code>App.vue</code>中利用<code>router-view</code>指定路由切换的位置</li></ol> <h3 id="路由嵌套和参数传递"><a href="#路由嵌套和参数传递" aria-hidden="true" class="header-anchor">#</a> 路由嵌套和参数传递</h3> <blockquote><p>在创建路由表的时候，可以为每一个路由对象创建 children 属性，值为数组，在这个里面又可以配置一些路由对象来使用多级路由</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  path <span class="token punctuation">:</span><span class="token string">&quot;/list&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;../views/List&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  children<span class="token punctuation">:</span><span class="token punctuation">[</span>
       <span class="token comment">// 二级路由前不需要加“/”</span>
      <span class="token punctuation">{</span>
        path<span class="token punctuation">:</span> <span class="token string">&quot;audio&quot;</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;../views/Audio&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        path<span class="token punctuation">:</span> <span class="token string">&quot;video&quot;</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;../views/Video&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre></div><p>二级路由组件的切换位置依然由<code>router-view</code>指定</p> <h4 id="参数传递"><a href="#参数传递" aria-hidden="true" class="header-anchor">#</a> 参数传递</h4> <ol><li>query 传参数</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{ path:'/detail', query: { name: 'haha'} }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">'/detail'</span><span class="token punctuation">,</span> query<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'haha'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>这种传参方式相当于 url 拼接参数，刷新时参数存在</p> <div class="language-html extra-class"><pre class="language-html"><code>http://localhost:8080/#/detail?name=haha
</code></pre></div><ol start="2"><li>params 传参数</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{ name:'/detail', params: { name: 'haha'} }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'/detail'</span><span class="token punctuation">,</span> params<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'haha'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>这种传参方式 url 中没有参数，刷新时参数不存在，可能会报错。</p> <h4 id="路由模式"><a href="#路由模式" aria-hidden="true" class="header-anchor">#</a> 路由模式</h4> <ol><li>hash</li> <li>history</li></ol> <p>hash: 地址栏 URL 中的#符号，hash 虽然出现在 URL 中，但不会被包含在 HTTP 请求中，对后端完全没有影响，因此改变 hash 不会重新加载页面</p> <p>history：如果 url 里不想出现丑陋的 hash（#），在 new VueRouter 时配置 mode 为 history，本质是 h5 的 history.pushState 更改 url，不会引起刷新。</p> <p>但 history 模式，会出现 404 情况，需要后台配置。需要在服务端增加一个覆盖所有情况的候选资源：如果 url 匹配不到任何静态资源，则应该返回同一个 index.html 页面，这个页面就是你 app 依赖的页面。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.04a40249.js" defer></script><script src="/blog/assets/js/2.614c271f.js" defer></script><script src="/blog/assets/js/27.94f729a2.js" defer></script>
  </body>
</html>
